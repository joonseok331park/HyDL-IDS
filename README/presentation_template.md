# 차량 내부 네트워크 침입 탐지를 위한 HyDL-IDS 모델

## 프로젝트 개요

- **제목**: 차량 내부 네트워크 침입 탐지를 위한 HyDL-IDS 모델 개발 및 분석
- **목표**: CAN 버스 트래픽에서 사이버 공격을 효과적으로 탐지하는 하이브리드 딥러닝 모델 개발
- **접근 방식**: CNN과 LSTM을 결합한 하이브리드 아키텍처 설계
- **데이터셋**: Car-Hacking 데이터셋 (HCRL, 고려대학교)

---

## 자동차 보안의 중요성

### 현대 자동차의 복잡성
- 수십 개의 ECU (Electronic Control Unit)
- CAN 버스를 통한 내부 통신
- 커넥티드 카 기능 증가

### 차량 해킹의 위험성
- 브레이크, 엔진, 조향 시스템 제어 가능
- 단순 데이터 유출을 넘어 생명 위협
- 실제 해킹 사례 증가

### IDS의 필요성
- 비정상 트래픽 실시간 탐지
- 공격 유형 분류 및 대응
- 사이버 보안 및 안전 강화

---

## HyDL-IDS 모델 아키텍처

### 핵심 아이디어
- 공간적 특징 추출 (CNN) + 시간적 특징 추출 (LSTM)
- 시퀀스 기반 접근으로 복잡한 공격 패턴 포착
- 효율적인 파라미터 사용으로 차량 환경 적합성 확보

### 모델 구조
1. **입력층**: (시퀀스 길이, 특성 수)
2. **Convo Unit I**:
   - Conv1D (필터 32개, 커널 크기 3, 활성화 함수 'relu')
   - BatchNormalization
   - MaxPooling1D (풀 크기 2)
   - Dropout (비율 0.2)
3. **Convo Unit II**:
   - Conv1D (필터 64개, 커널 크기 3, 활성화 함수 'relu')
   - BatchNormalization
   - MaxPooling1D (풀 크기 2)
   - Dropout (비율 0.2)
4. **LSTM 레이어**: 128 유닛, 활성화 함수 'tanh'
5. **Flatten 레이어**
6. **Dense 레이어**: 128 유닛
7. **Dropout 레이어**: 비율 0.2
8. **출력 레이어**: 1 유닛, 활성화 함수 'sigmoid'

### 파라미터 요약
- 총 파라미터 수: 약 123,000
- 학습 가능 파라미터: 약 122,850
- 학습 불가능 파라미터: 약 190 (배치 정규화)

---

## 데이터 전처리

### Car-Hacking 데이터셋
- **구조**: Timestamp, CAN ID, DLC, DATA[0]-DATA[7], Flag/Tag
- **공격 유형**: DoS, Fuzzy, Spoofing Gear, Spoofing RPM
- **클래스 분포**: [사용자 실행 결과에 따라 업데이트]

### 전처리 단계
1. **CAN ID**: 16진수 → 정수 인코딩 (0 ~ N-1)
2. **DLC**: log(값 + 1) 변환 후 Min-Max 스케일링
3. **DATA 필드**:
   - 16진수 → 10진수 변환 (0-255)
   - 미사용 바이트 → 256 처리
   - log(값 + 1) 변환 후 스케일링
4. **Flag/Tag**: 'R'(정상) → 0, 'T'(공격) → 1
5. **시퀀스 생성**: 윈도우 슬라이딩 (크기: 10, 스트라이드: 1)

### 최종 데이터 형태
- X_sequences: [시퀀스 수, 10, 10]
- y_sequences: [시퀀스 수] (각 시퀀스의 라벨)

---

## 실험 설정

### 학습 파라미터
- **옵티마이저**: Adam (학습률: 0.001)
- **손실 함수**: binary_crossentropy
- **배치 크기**: 256
- **에포크 수**: 10
- **Early Stopping**: val_accuracy 모니터링, patience 3

### 데이터 분할
- **학습 세트**: 67%
- **검증 세트**: 13%
- **테스트 세트**: 20%

### 평가 지표
- **Accuracy**: 전체 예측 중 올바른 예측 비율
- **Precision**: 공격으로 예측한 것 중 실제 공격 비율
- **Recall**: 실제 공격 중 공격으로 예측한 비율
- **F1-score**: 정밀도와 재현율의 조화 평균
- **FPR**: 실제 정상 중 오탐지 비율
- **FNR**: 실제 공격 중 미탐지 비율

---

## 실험 결과

### 학습 곡선
[사용자 제공 학습/검증 손실 및 정확도 그래프 삽입]

### 테스트 성능
[사용자 제공 테스트 성능 표 삽입]

| 평가 지표 | 값 |
|----------|-----|
| Accuracy | [사용자 결과] |
| Precision | [사용자 결과] |
| Recall | [사용자 결과] |
| F1-score | [사용자 결과] |
| FPR | [사용자 결과] |
| FNR | [사용자 결과] |

### 혼동 행렬
[사용자 제공 혼동 행렬 그래프 삽입]

### 공격 유형별 성능
[사용자 제공 공격 유형별 성능 차트 삽입]

---

## 결과 분석

### 주요 관찰 사항
- **학습 패턴**: [사용자 실행 결과에 따른 분석]
- **테스트 성능**: [사용자 실행 결과에 따른 분석]
- **공격 유형별 차이**: [사용자 실행 결과에 따른 분석]

### 모델 성능 해석
- **정확도와 신뢰성**: [사용자 실행 결과에 따른 분석]
- **오탐지와 미탐지 분석**: [사용자 실행 결과에 따른 분석]
- **실시간 탐지 가능성**: [사용자 실행 결과에 따른 분석]

---

## 강점 및 한계점

### 강점
- **하이브리드 아키텍처 효과**: [사용자 실행 결과에 따른 분석]
- **다양한 공격 유형 탐지 능력**: [사용자 실행 결과에 따른 분석]
- **시퀀스 기반 탐지 장점**: [사용자 실행 결과에 따른 분석]

### 한계점
- **특정 공격 탐지 어려움**: [사용자 실행 결과에 따른 분석]
- **모델 크기와 계산 요구사항**: [사용자 실행 결과에 따른 분석]
- **새로운 공격 유형 적응성**: [사용자 실행 결과에 따른 분석]

---

## 향후 개선 방향

### 모델 개선
- Attention 메커니즘 도입
- 자가 지도 학습 기법 적용
- 트랜스포머 기반 모델 실험

### 실시간 처리 최적화
- 모델 경량화 (프루닝, 양자화)
- 증분 학습 구현
- 하드웨어 가속 활용

### 실제 적용 확장
- 다양한 차량 모델/제조사 테스트
- 실제 주행 환경 필드 테스트
- 자동 대응 메커니즘 연구

---

## 결론

### 요약
- HyDL-IDS 모델은 CNN과 LSTM의 결합을 통해 CAN 트래픽의 공간적, 시간적 특징을 효과적으로 추출
- [사용자 실행 결과]의 정확도와 F1 점수로 우수한 침입 탐지 성능을 달성
- 다양한 공격 유형에 대해 균형 잡힌 탐지 능력 확인

### 의의
- 차량 내부 네트워크 보안 강화에 기여
- 하이브리드 딥러닝 접근법의 가능성 입증
- 자율주행 및 커넥티드 카 시대의 중요한 보안 솔루션 제시

---

## 질의응답

[청중 질문에 대한 응답]

---

## 감사합니다

[연락처 및 추가 정보]