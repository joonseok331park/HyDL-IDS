# HyDL-IDS 모델 성능 지표 해석 가이드

이 문서는 차량 내부 네트워크 침입 탐지를 위한 HyDL-IDS 모델의 평가 지표를 이해하고 해석하는 방법에 대한 상세한 가이드를 제공합니다. 모델 성능 평가에 사용되는 각 지표의 의미와 중요성, 그리고 차량 보안 맥락에서의 적절한 해석 방법을 설명합니다.

## 목차

1. [기본 성능 지표](#1-기본-성능-지표)
2. [이진 분류 지표](#2-이진-분류-지표)
3. [ROC 및 정밀도-재현율 분석](#3-roc-및-정밀도-재현율-분석)
4. [실용적 관점의 지표 해석](#4-실용적-관점의-지표-해석)
5. [지표간 균형과 트레이드오프](#5-지표간-균형과-트레이드오프)
6. [수치별 성능 등급 가이드라인](#6-수치별-성능-등급-가이드라인)

## 1. 기본 성능 지표

### 1.1 정확도 (Accuracy)

**정의**: 전체 예측 중 올바르게 분류된 예측의 비율
```
Accuracy = (TP + TN) / (TP + TN + FP + FN)
```

**해석**:
- 90% 이상: 우수한 성능
- 80-90%: 양호한 성능
- 70-80%: 개선 필요
- 70% 미만: 문제가 있는 성능

**차량 보안 맥락에서의 의미**:
정확도는 모델이 정상 트래픽과 공격을 얼마나 잘 구분하는지를 전반적으로 보여줍니다. 그러나 차량 네트워크 트래픽은 대부분 정상이기 때문에(클래스 불균형), 정확도만으로는 공격 탐지 능력을 충분히 평가할 수 없습니다. 예를 들어, 전체 트래픽의 99%가 정상이라면, 모든 트래픽을 정상으로 분류하는 모델도 99%의 정확도를 달성할 수 있습니다.

### 1.2 손실 (Loss)

**정의**: 모델의 예측과 실제 값 간의 차이를 수치화한 값
```
Binary Cross-Entropy Loss = -Σ[y*log(p) + (1-y)*log(1-p)]
```
여기서 y는 실제 레이블(0 또는 1), p는 모델이 예측한 확률입니다.

**해석**:
- 0에 가까울수록 좋음
- 일반적으로 0.1-0.3: 우수한 성능
- 0.3-0.5: 양호한 성능
- 0.5 이상: 개선 필요

**학습 과정에서의 의미**:
손실은 모델이 학습 중 얼마나 개선되고 있는지를 보여주는 주요 지표입니다. 학습 손실과 검증 손실 간의 격차가 크다면 과적합을, 두 손실 모두 높다면 과소적합을 의미할 수 있습니다.

### 1.3 MAE (Mean Absolute Error)

**정의**: 예측 값과 실제 값 간 절대 차이의 평균
```
MAE = (Σ|y_pred - y_true|) / n
```

**해석**:
- 이진 분류에서 MAE는 일반적으로 0-1 사이의 값
- 0에 가까울수록 좋음
- 0.1 미만: 우수한 성능
- 0.1-0.2: 양호한 성능
- 0.2 이상: 개선 필요

**차량 보안 맥락에서의 의미**:
MAE는 모델 예측이 얼마나 실제 값에서 벗어나는지를 평균적으로 보여줍니다. 값이 작을수록 모델의 예측이 실제 값에 가깝다는 것을 의미합니다.

### 1.4 MSE (Mean Squared Error)

**정의**: 예측 값과 실제 값 간 차이의 제곱 평균
```
MSE = (Σ(y_pred - y_true)²) / n
```

**해석**:
- 이진 분류에서 MSE는 일반적으로 0-1 사이의 값
- 0에 가까울수록 좋음
- 0.1 미만: 우수한 성능
- 0.1-0.2: 양호한 성능
- 0.2 이상: 개선 필요

**MAE와의 차이점**:
MSE는 큰 오차에 더 민감하게 반응합니다. MAE보다 MSE가 훨씬 크다면, 일부 샘플에서 큰 오차가 발생하고 있음을 의미합니다.

## 2. 이진 분류 지표

### 2.1 정밀도 (Precision)

**정의**: 공격으로 예측한 샘플 중 실제 공격의 비율
```
Precision = TP / (TP + FP)
```

**해석**:
- 1에 가까울수록 좋음
- 95% 이상: 매우 우수한 성능
- 90-95%: 우수한 성능
- 80-90%: 양호한 성능
- 80% 미만: 개선 필요

**차량 보안 맥락에서의 의미**:
정밀도는 모델이 공격으로 경고를 발생시켰을 때, 그것이 실제 공격일 확률을 의미합니다. 높은 정밀도는 오탐지(false alarm)가 적다는 것을 의미하며, 이는 불필요한 대응 조치나 운전자 방해를 줄이는 데 중요합니다.

### 2.2 재현율 (Recall)

**정의**: 실제 공격 중 모델이 공격으로 탐지한 비율
```
Recall = TP / (TP + FN)
```

**해석**:
- 1에 가까울수록 좋음
- 95% 이상: 매우 우수한 성능
- 90-95%: 우수한 성능
- 80-90%: 양호한 성능
- 80% 미만: 개선 필요

**차량 보안 맥락에서의 의미**:
재현율은 실제 공격 중 모델이 감지하는 비율을 의미합니다. 차량 보안에서는 재현율이 특히 중요합니다. 탐지하지 못한 공격(FN)은 차량 시스템에 직접적인 위협이 될 수 있기 때문입니다. 높은 재현율은 대부분의 공격이 탐지됨을 의미합니다.

### 2.3 F1 점수 (F1-score)

**정의**: 정밀도와 재현율의 조화 평균
```
F1 = 2 * (Precision * Recall) / (Precision + Recall)
```

**해석**:
- 1에 가까울수록 좋음
- 95% 이상: 매우 우수한 성능
- 90-95%: 우수한 성능
- 80-90%: 양호한 성능
- 80% 미만: 개선 필요

**차량 보안 맥락에서의 의미**:
F1 점수는 정밀도와 재현율 사이의 균형을 측정합니다. 특히 불균형 데이터셋(정상 트래픽이 대부분인 차량 네트워크 데이터)에서 모델의 전반적인 성능을 평가하는 데 유용합니다. 높은 F1 점수는 오탐지와 미탐지 사이의 균형이 잘 잡혔음을 의미합니다.

### 2.4 위양성률 (FPR, False Positive Rate)

**정의**: 실제 정상 샘플 중 공격으로 잘못 분류된 비율
```
FPR = FP / (FP + TN)
```

**해석**:
- 0에 가까울수록 좋음
- 1% 미만: 매우 우수한 성능
- 1-5%: 우수한 성능
- 5-10%: 양호한 성능
- 10% 이상: 개선 필요

**차량 보안 맥락에서의 의미**:
FPR은 정상 트래픽이 공격으로 오탐지되는 비율을 나타냅니다. 낮은 FPR은 불필요한 경고가 적다는 것을 의미하며, 이는 시스템 사용성과 신뢰성에 중요합니다. FPR이 높으면 "늑대가 온다"와 같은 효과로 경고의 신뢰성이 낮아질 수 있습니다.

### 2.5 위음성률 (FNR, False Negative Rate)

**정의**: 실제 공격 중 정상으로 잘못 분류된 비율
```
FNR = FN / (FN + TP)
```

**해석**:
- 0에 가까울수록 좋음
- 1% 미만: 매우 우수한 성능
- 1-5%: 우수한 성능
- 5-10%: 양호한 성능
- 10% 이상: 개선 필요

**차량 보안 맥락에서의 의미**:
FNR은 실제 공격이 탐지되지 않는 비율을 나타냅니다. 차량 보안에서는 FNR이 매우 중요한 지표입니다. 탐지되지 않은 공격은 차량 안전에 직접적인 위협이 될 수 있기 때문입니다. 낮은 FNR은 대부분의 공격이 성공적으로 탐지됨을 의미합니다.

## 3. ROC 및 정밀도-재현율 분석

### 3.1 ROC 곡선 (Receiver Operating Characteristic Curve)

**정의**: 다양한 임계값에서의 TPR(재현율)과 FPR의 관계를 보여주는 곡선

**해석**:
- 좌상단에 가깝게 휘어질수록 좋음
- 대각선(y=x)에 가까우면 무작위 분류기와 유사한 성능

**주요 지표: AUC (Area Under the ROC Curve)**
- 1에 가까울수록 좋음
- 0.9 이상: 매우 우수한 성능
- 0.8-0.9: 우수한 성능
- 0.7-0.8: 양호한 성능
- 0.5-0.7: 개선 필요
- 0.5: 무작위 분류와 동등한 성능

**곡선 형태의 의미**:
- 가파른 상승 후 평탄화: 낮은 FPR에서도 높은 TPR 달성 가능, 높은 임계값에서 좋은 성능
- 완만한 상승: 높은 TPR을 위해 높은 FPR을 감수해야 함, 낮은 임계값에서 작동

**차량 보안 맥락에서의 활용**:
ROC 곡선은 다양한 임계값에서 모델의 성능을 평가할 수 있게 해줍니다. 차량 보안에서는 재현율(TPR)을 최대화하면서 허용 가능한 수준의 FPR을 유지하는 최적 임계값을 선택하는 데 활용할 수 있습니다.

### 3.2 정밀도-재현율 곡선 (Precision-Recall Curve)

**정의**: 다양한 임계값에서의 정밀도와 재현율의 관계를 보여주는 곡선

**해석**:
- 우상단에 가깝게 유지될수록 좋음
- 급격한 하락은 임계값 선택이 까다로움을 의미

**주요 지표: AP (Average Precision)**
- 1에 가까울수록 좋음
- 0.9 이상: 매우 우수한 성능
- 0.8-0.9: 우수한 성능
- 0.7-0.8: 양호한 성능
- 0.7 미만: 개선 필요

**곡선 형태의 의미**:
- 완만한 감소: 임계값 변화에 따른 정밀도-재현율 트레이드오프가 안정적
- 급격한 감소: 특정 지점에서 정밀도와 재현율 사이의 심각한 트레이드오프 발생

**ROC 곡선과의 차이점**:
- ROC 곡선은 FPR과 TPR에 초점을 맞추며, 클래스 분포에 영향을 덜 받음
- 정밀도-재현율 곡선은 정밀도와 재현율에 초점을 맞추며, 불균형 데이터셋에서 더 유용함

**차량 보안 맥락에서의 활용**:
차량 네트워크 트래픽은 대부분 정상이므로(불균형 데이터셋), 정밀도-재현율 곡선은 ROC 곡선보다 모델 성능을 더 현실적으로 평가하는 데 유용합니다. 이 곡선을 통해 실제 공격 탐지 능력(재현율)과 오탐지 최소화(정밀도) 사이의 균형을 최적화할 수 있습니다.

## 4. 실용적 관점의 지표 해석

### 4.1 차량 보안에서의 오탐지 vs 미탐지

**오탐지(FP)의 영향**:
- 불필요한 경고 및 대응 조치 발생
- 운전자 주의 분산 가능성
- 시스템에 대한 신뢰도 저하
- 시스템 리소스 낭비

**미탐지(FN)의 영향**:
- 실제 공격이 탐지되지 않아 차량 시스템 위험 노출
- 운전자 및 승객 안전 위협
- 잠재적 사고 위험
- 재산 손실 및 법적 책임 발생 가능성

**차량 환경에서의 우선순위**:
일반적으로 차량 보안 환경에서는 미탐지(FN)가 오탐지(FP)보다 더 심각한 결과를 초래할 수 있습니다. 따라서 재현율(실제 공격을 잘 감지하는 능력)이 정밀도(오탐지 최소화)보다 더 중요한 경우가 많습니다. 그러나 지나치게 많은 오탐지는 시스템의 실용성을 저하시킬 수 있으므로, 적절한 균형이 필요합니다.

### 4.2 임계값 선택의 중요성

**임계값의 의미**:
이진 분류 모델에서 임계값은 예측 확률을 이진 클래스(0 또는 1)로 변환하는 기준입니다. 기본적으로 0.5를 사용하지만, 애플리케이션의 요구에 따라 조정할 수 있습니다.

**임계값 조정 효과**:
- 임계값 낮추기(< 0.5): 재현율 증가, 정밀도 감소 (더 많은 공격 탐지, 오탐지 증가)
- 임계값 높이기(> 0.5): 정밀도 증가, 재현율 감소 (오탐지 감소, 미탐지 증가)

**차량 보안을 위한 임계값 선택 전략**:
1. **안전 우선 접근법**: 임계값을 낮게 설정하여 재현율 최대화 (대부분의 공격 탐지, 일부 오탐지 용인)
2. **균형 접근법**: F1 점수가 최대화되는 임계값 선택
3. **맥락 기반 접근법**: 차량 운행 상황에 따라 동적으로 임계값 조정 (정차 시 vs 고속 주행 시)

## 5. 지표간 균형과 트레이드오프

### 5.1 정밀도-재현율 트레이드오프

**트레이드오프의 본질**:
대부분의 경우, 정밀도와 재현율은 서로 상충 관계에 있습니다. 임계값을 조정하여 하나를 향상시키면 다른 하나는 감소하는 경향이 있습니다.

**균형점 찾기**:
이상적으로는 정밀도와 재현율이 모두 높은 지점을 찾아야 합니다. F1 점수는 이 두 지표의 균형을 측정하는 데 유용합니다.

**차량 보안에서의 균형 전략**:
1. 정밀도와 재현율의 우선순위를 결정합니다. 치명적인 공격 탐지가 목표라면 재현율에 더 높은 가중치를 둡니다.
2. 실제 운영 환경에서 허용 가능한 오탐지 비율을 고려합니다.
3. 공격 유형별로 다른 임계값을 적용하는 방법도 고려할 수 있습니다.

### 5.2 모델 복잡성과 성능의 균형

**과적합-과소적합 균형**:
복잡한 모델은 훈련 데이터에 과적합될 위험이 있고, 단순한 모델은 패턴을 충분히 학습하지 못할 수 있습니다. 학습 과정에서 검증 성능을 모니터링하여 적절한 복잡성 수준을 찾아야 합니다.

**리소스 제약 고려**:
차량 환경에서는 컴퓨팅 리소스와 메모리가 제한적입니다. 따라서 모델 복잡성과 성능 사이의 균형이 중요합니다. 약간의 성능 손실을 감수하더라도 리소스 효율적인 모델이 실제 적용에 더 적합할 수 있습니다.

## 6. 수치별 성능 등급 가이드라인

다음은 HyDL-IDS 모델의 주요 평가 지표에 대한 성능 등급 가이드라인입니다. 이는 차량 네트워크 보안 맥락에서의 일반적인 기준이며, 구체적인 응용 환경에 따라 조정될 수 있습니다.

### 6.1 정확도 (Accuracy)

| 등급       | 범위        | 해석                                               |
|-----------|------------|---------------------------------------------------|
| 우수       | > 95%      | 거의 모든 샘플을 올바르게 분류; 매우 신뢰할 수 있는 모델        |
| 양호       | 90-95%     | 대부분의 샘플을 올바르게 분류; 실용적인 모델                  |
| 보통       | 85-90%     | 상당수의 샘플을 올바르게 분류; 개선 여지가 있는 모델            |
| 미흡       | < 85%      | 분류 성능이 부족; 실용적 사용 전 개선 필요                   |

### 6.2 정밀도 (Precision)

| 등급       | 범위        | 해석                                               |
|-----------|------------|---------------------------------------------------|
| 우수       | > 95%      | 오탐지가 거의 없음; 경고의 신뢰성이 매우 높음                |
| 양호       | 90-95%     | 오탐지가 적음; 경고의 신뢰성이 높음                        |
| 보통       | 80-90%     | 일부 오탐지 존재; 개선 여지가 있음                         |
| 미흡       | < 80%      | 오탐지가 많음; 사용성 저하 우려                           |

### 6.3 재현율 (Recall)

| 등급       | 범위        | 해석                                               |
|-----------|------------|---------------------------------------------------|
| 우수       | > 95%      | 거의 모든 공격 탐지; 매우 안전한 시스템                     |
| 양호       | 90-95%     | 대부분의 공격 탐지; 안전한 시스템                          |
| 보통       | 80-90%     | 상당수의 공격 탐지; 개선 여지가 있음                        |
| 미흡       | < 80%      | 상당수의 공격 미탐지; 안전 위험 존재                        |

### 6.4 F1 점수 (F1-score)

| 등급       | 범위        | 해석                                               |
|-----------|------------|---------------------------------------------------|
| 우수       | > 95%      | 정밀도와 재현율이 모두 매우 높음; 이상적인 균형                |
| 양호       | 90-95%     | 정밀도와 재현율이 모두 높음; 좋은 균형                       |
| 보통       | 80-90%     | 정밀도와 재현율 중 하나가 다소 낮음; 개선 여지가 있음            |
| 미흡       | < 80%      | 정밀도와 재현율 모두 개선 필요                             |

### 6.5 AUC (Area Under ROC Curve)

| 등급       | 범위        | 해석                                               |
|-----------|------------|---------------------------------------------------|
| 우수       | > 0.95     | 거의 완벽한 분류 능력; 임계값 설정이 매우 유연함                |
| 양호       | 0.90-0.95  | 매우 좋은 분류 능력; 다양한 임계값에서 좋은 성능                |
| 보통       | 0.80-0.90  | 양호한 분류 능력; 개선 여지가 있음                          |
| 미흡       | < 0.80     | 분류 능력이 제한적; 상당한 개선 필요                         |

### 6.6 추론 시간 (Inference Time)

차량 환경에서의 실시간 탐지를 위한 추론 시간 가이드라인:

| 등급       | 범위          | 해석                                               |
|-----------|--------------|---------------------------------------------------|
| 우수       | < 10ms       | 매우 빠른 추론; 실시간 탐지에 이상적                       |
| 양호       | 10-50ms      | 빠른 추론; 실시간 탐지에 적합                            |
| 보통       | 50-100ms     | 수용 가능한 추론 속도; 대부분의 상황에서 사용 가능              |
| 미흡       | > 100ms      | 느린 추론; 실시간 탐지에 제한이 있을 수 있음                  |

이러한 가이드라인은 일반적인 기준이며, 실제 적용 시에는 특정 차량 시스템의 요구사항과 제약조건에 따라 조정되어야 합니다.